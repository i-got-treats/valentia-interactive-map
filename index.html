<!DOCTYPE html>
<html style="height: 100%; width:100%; margin: 0;">
<head>
    <style>
        /* zoom button style*/
        
        .leaflet-bar a {
            background-color: rgba(255, 255, 255, 0.4)!important;
        }
        .leaflet-bar a:hover,
        .leaflet-bar a:focus {
            background-color: rgba(244, 244, 244, 0.7)!important;
        }
        .leaflet-bar a.leaflet-disabled {
            background-color: rgba(244, 244, 244, 0.2)!important;
            color: rgba(86, 86, 86, 0.4)!important;
            }


        /* change layers ansicht */
        .leaflet-control-layers-toggle{
            height: 0px!important;
        }
        .leaflet-control-layers {
            color:rgba(0, 0, 0, 0.4)!important;
            opacity: 0.5;
            background-color: rgba(197, 212, 221, 0.8)!important;
            transition: .2s;
        }
        .leaflet-control-layers:hover {
            opacity: 1;
        }
        .leaflet-control-layers:before{
            padding-left: 25px;
            padding-right: 25px;
            padding-top: 20px;
            font-size: 20px;
            font-weight: bold;
            content:"Map Legend";
            color:rgba(0, 0, 0, .7);
        }

        /*radio/checkbox button*/
        input[type=checkbox]:checked + span{
            color:rgba(0, 0, 0, 0.7) !important;
            font-weight: bold;
        }
        /* layericon */
        .ico{
            vertical-align: middle;
            height: 17px;
        }
        /* change layers ansicht end*/

        /*POPUP STYLE*/
        .leaflet-popup-content-wrapper {
            /*max-width: 200px;
            max-height: 110px;
            overflow-y: auto;
            overflow-x: hidden;*/
            text-align: center!important;
            background: rgba(98, 98, 98, 0.8)!important;
            color: rgb(220, 220, 220)!important;
            font-size: 13px!important;
            line-height: 24px!important;
            border-radius: 0px!important;
            border: 2px solid rgba(185, 185, 185, 0.8)!important;
            box-shadow:rgba(0, 0, 0, .5) 0px 0px 10px!important;
        }
        .leaflet-popup-content {
            padding-right: 15px!important;
            padding-left: 15px!important;
            margin-right: 0px!important;
            margin-left: 0px!important;
            max-width: 200px!important;
            max-height: 110px!important;
            overflow-y: auto;
            overflow-x: hidden;
            }
        .leaflet-popup-content-wrapper a {
            color: rgba(200, 200, 200, 0.1)!important;
        }
        /* the triangle */
        .leaflet-popup-tip { 
            background: rgba(185, 185, 185, .3)!important;
            border: 2px solid rgba(185, 185, 185, 0.8)!important;
            box-shadow: rgba(0, 0, 0, .3) 0px 0px 10px!important;
        }
        .leaflet-container a.leaflet-popup-close-button {
            color: rgba(185, 185, 185, 0.8)!important;
        }
        .leaflet-container a.leaflet-popup-close-button:hover {
            color: #999;
        }
        /*POPUP STYLEs end*/



        /* TOOLTIP STYLE */
        /* no triangle at tooltip */
        .leaflet-tooltip-top:before, 
        .leaflet-tooltip-bottom:before, 
        .leaflet-tooltip-left:before, 
        .leaflet-tooltip-right:before {
            border: none !important;
        }
        /* TOOLTIPS STYLE end*/
    </style>

    <title>Map of Valentia</title>

    <meta name="viewpoint" content="width=device-width, initial-scale=1.0">

    <!-- leflet import -->
    <link rel="stylesheet" href="scripts\leaflet\leaflet.css">
    <script src="scripts\leaflet\leaflet.js"></script>
    <!-- tree import-->
    <link rel="stylesheet" href="scripts\tree\L.Control.Layers.Tree.css">
    <script src="scripts\tree\L.Control.Layers.Tree.js"></script>

    <!-- icons import-->
    <script src="scripts\my_scripts\icons.js"></script>
    <!-- rotations import -->
    <link rel="stylesheet" href="scripts\my_scripts\tooltip_styles.css">

</head>
<body style="height: 100%; width:100%;  margin: 0;">

<!-- map holder -->
<div id="map" style="margin-left:auto; margin-right:auto; width:100%; height: 100%; background: #6B7983">
</div>

<script type="text/javascript">
    //variables
    var mapSW = [0, 8192],
        mapNE = [8192, 0];
    var customMinZoom = 1;
    var customMaxZoom = 4;
    //variables end

    // Declare Map Object
    var map = L.map('map').setView([0, 0], customMinZoom);

    // Reference the tiles
    L.tileLayer('images/tiles/{z}/{x}/{y}.png',{
    minZoom: customMinZoom, maxZoom: customMaxZoom,
    noWrap: true,
    crs: L.CRS.Simple,}
    ).addTo(map);

    // map bounces back when you try to leave
    map.setMaxBounds(new L.LatLngBounds(
        map.unproject(mapNE, (customMaxZoom+1)),
        map.unproject(mapSW, (customMaxZoom+1))
    ));
    // no zoom on doubleclick
    map.doubleClickZoom.disable();










    /* =========================
       MARKERS and POPUPS
       =========================*/
    var zoom0 = [];
    var zoom1 = [];
    var zoom2 = [];
    var zoom3 = [];

    // HELPERS

    function distance_adjust(distance) {
        return Math.round(distance*0.000041);
    }

    function distance_to_walkinghours(distance) {
        return Math.floor((distance_adjust(distance)/3.5)/24) + ' days and ' + ((distance_adjust(distance)/3.5)%24).toFixed(1) + ' hours';
    }

    var latlngmarker = L.marker([-76, 94], {
        draggable:true,
        icon: doticon,
        opacity: .5
    }).bindPopup()
    .addTo(map)
    .on('click', function(e){
        latlngmarker.getPopup().setContent(Math.round(e.latlng.lat.toFixed(1)) +
                                           ", " +  Math.round(e.latlng.lng.toFixed(1)))
    });

    var distance_marker_1 = L.marker([76, 6], {
        draggable:true,
        icon: x_marker,
        opacity: .8
    }).bindPopup()
    .on('click', function(e){
        distance_marker_1.getPopup().setContent(
            '<b>Distance</b>:<br> ' + distance_adjust(map.distance(e.latlng, distance_marker_2.getLatLng())).toString() + 'km<br><br>'+
            '<b>Walking Time</b>:<br> ' + distance_to_walkinghours(map.distance(e.latlng, distance_marker_2.getLatLng())).toString()
            )
    });

    var distance_marker_2 = L.marker([-72, -117], {
        riseOnHover: true,
        draggable:true,
        icon: y_marker,
        opacity: .8
    }).bindPopup()
    .on('click', function(e){
        distance_marker_2.getPopup().setContent(
            '<b>Distance</b>:<br> ' + distance_adjust(map.distance(e.latlng, distance_marker_1.getLatLng())).toString() + 'km<br><br>'+
            '<b>Walking Time</b>:<br> ' + distance_to_walkinghours(map.distance(e.latlng, distance_marker_1.getLatLng())).toString()
            )
    });

    var helpers = [latlngmarker, distance_marker_1, distance_marker_2]

    // zoom the map to the polyline
    /*map.fitBounds(polyline.getBounds());*/


    // BUILDINGS
    var castles = [];

    var marble_palace = (L.marker([-47.5, 58.8], {icon: castle_i})
    .bindPopup("<big>&#x1F661</big> <b>Marble Palace</b> <big>&#128611</big><br>\
            A small but beautiful palace made of marble for one Lord Petyre."));
    castles.push(marble_palace);
    zoom3.push(marble_palace);


    var cathedrals = [];

    var colig = (L.marker([-26, 18], {icon: colig_i})
    .bindPopup("<big>&#x1F661</big> <b>Colig</b> <big>&#128611</big><br>\
               Widely known as the biggest magic-teaching school in Valentia."));
    zoom1.push(colig);

    var crypts = [];

    var forts = [];

    var lighthouses = [];

    var stables = [];

    var strongholds = [];

    var taverns = [];

    var temples = [];

    var towers = [];

    var windmills = [];
    // BUILDINGS end

    // LANDMARKS
    var altars = [];
    var bridges = [];
    var dangerzones = [];
    var monoliths = [];
    var obelisks = [];
    var ruins = [];
    var shipwrecks = [];
    var shrines = [];
    var standing_stones = [];
    var thorns = [];
    var waterfalls = [];
    var whirlpools = [];
    // LANDMARKS end

    // LOCATIONS
    var alchemists = [];

    var caves = [];

    var docs = [];

    var dungeons = [];

    var forges = [];

    var grainfarms = [];

    var graveyards = [];

    var mines = [];

    var ravenskulls = [];

    var yellow_ravenskulls = (L.marker([-3, -60], {icon: ravenskull_i})
    .bindPopup("<big>&#x1F661</big> <b>Ravenskull Hideout</b> <big>&#128611</big><br>\
            ..."));
    ravenskulls.push(yellow_ravenskulls);
    zoom3.push(yellow_ravenskulls);

    var siberia_ravenskulls = (L.marker([21, -138], {icon: ravenskull_i})
    .bindPopup("<big>&#x1F661</big> <b>Ravenskull Hideout</b> <big>&#128611</big><br>\
            ..."));
    ravenskulls.push(siberia_ravenskulls);
    zoom3.push(siberia_ravenskulls);

    var green_ravenskulls_1 = (L.marker([-25, 70], {icon: ravenskull_i})
    .bindPopup("<big>&#x1F661</big> <b>Ravenskull Hideout</b> <big>&#128611</big><br>\
            ..."));
    ravenskulls.push(green_ravenskulls_1);
    zoom3.push(green_ravenskulls_1);

    var green_ravenskulls_2 = (L.marker([-66, 67], {icon: ravenskull_i})
    .bindPopup("<big>&#x1F661</big> <b>Ravenskull Hideout</b> <big>&#128611</big><br>\
            ..."));
    ravenskulls.push(green_ravenskulls_2);
    zoom3.push(green_ravenskulls_2);

    var storm_isles_ravenskulls = (L.marker([66, 61], {icon: ravenskull_i})
    .bindPopup("<big>&#x1F661</big> <b>Ravenskull Hideout</b> <big>&#128611</big><br>\
            ..."));
    ravenskulls.push(storm_isles_ravenskulls);
    zoom3.push(storm_isles_ravenskulls);

    var tova_ravenskulls = (L.marker([20, 117], {icon: ravenskull_i})
    .bindPopup("<big>&#x1F661</big> <b>Ravenskull Hideout</b> <big>&#128611</big><br>\
            ..."));
    ravenskulls.push(tova_ravenskulls);
    zoom3.push(tova_ravenskulls);

    var vineyards = [];
    // LOCATIONS end

    // SETTLEMENTS
    var camps = [];


    var cities = []


    var silverport = (L.marker([-72, -117], {icon: city_i})
    .bindPopup("<big>&#x1F661</big> <b>Silverport</b> <big>&#128611</big><br>\
               An orc and an elf, who loved each other. A human and the dwarf whom he refused to execute.\
               They were the founders of the coastal city Silverport, home to the outcasts."));
    cities.push(silverport);
    zoom1.push(silverport);

    var the_grand_city_of_blackwater = (L.marker([72, 45], {icon: city_i})
    .bindPopup("The Grand City of<br>\
                <big>&#x1F661</big> <b>Blackwater</b> <big>&#128611</big><br>\
               ..."));
    cities.push(the_grand_city_of_blackwater);
    zoom1.push(the_grand_city_of_blackwater);


    var hut_villages = [];
    

    var bar_akh = (L.marker([76, 6], {icon: hut_village_i})
    .bindPopup("<big>&#x1F661</big> <b>Bar-Akh</b> <big>&#128611</big><br>\
               An orc village. Thronn's former home."));
    zoom1.push(bar_akh);
    hut_villages.push(bar_akh);


    var huts = [];


    var legion_camps = [];


    var towns = [];

    // ESTORIA

    var unnamed_orcish_town = (L.marker([-39, -122], {icon: town_i})
    .bindPopup("<big>&#x1F661</big> <b>Unnamed Orcish Town</b> <big>&#128611</big><br>\
                ..."));
    towns.push(unnamed_orcish_town);
    zoom2.push(unnamed_orcish_town);

    var unnamed_elvish_town = (L.marker([-66.5, -56], {icon: town_i})
    .bindPopup("<big>&#x1F661</big> <b>Unnamed Elvish Town</b> <big>&#128611</big><br>\
                ..."));
    towns.push(unnamed_elvish_town);
    zoom2.push(unnamed_elvish_town);

    var khir_burim = (L.marker([-44, -47], {icon: town_i})
    .bindPopup("<big>&#x1F661</big> <b>Khir Burim</b> <big>&#128611</big><br>\
                A dwarf town, allied with the dwarves on Mount Thul."));
    towns.push(khir_burim);
    zoom2.push(khir_burim);

    var ebonhall = (L.marker([-52, -83], {icon: castle_i})
    .bindPopup("<big>&#x1F661</big> <b>Ebonhall</b> <big>&#128611</big><br>\
               A town named after its black stone castle. Extremely hostile towards non-humans."));
    towns.push(ebonhall);
    zoom1.push(ebonhall);

    var thuls_fortress = (L.marker([-43, -34], {icon: stronghold_i})
    .bindPopup("<big>&#x1F661</big> <b>Thul's Fortress</b> <big>&#128611</big><br>\
               A stronghold built directly into Mount Thul, Eastorias highest peak.\
               The dwarves that reside in it know it was built to protect the land,\
               but they forgot who it was supposed to protect them from."));
    towns.push(thuls_fortress);
    zoom1.push(thuls_fortress);


    // PURPLE COUNTRY

    var aen_ethel = (L.marker([54, -9], {icon: castle_i})
    .bindPopup("<big>&#x1F661</big> <b>Aen Eth√©l</b> <big>&#128611</big><br>\
               An ancient elvish castle town with a recent history of power-crazed monarchs. Rules over a central terriroty of [purple country]. Nerry's birthplace."));
    towns.push(aen_ethel);
    zoom1.push(aen_ethel);


    // GREEN COUNTRY
    var villages = [];
    var yabuonna = (L.marker([-39.5, 56], {icon: village_i})
    .bindPopup("<big>&#x1F661</big> <b>Yabuonna</b> <big>&#128611</big><br>\
               A pretty village known for its apple farm. Tytus' home."));
    villages.push(yabuonna);
    zoom1.push(yabuonna);

    // SETTLEMENTS end
    // MARKERS and POPUPS END

















    /* =========================
       TOOLTIPS
       =========================*/

    // COUNTRIES
    var countries_options= ({direction: 'center', interactive: false, className: "countries"});

    var estoria = L.tooltip([-58, -68], countries_options)
    .setContent('Estoria');
    zoom0.push(estoria);

    var siberia = L.tooltip([35, -94], countries_options)
    .setContent('Siberia');
    zoom0.push(siberia);

    var tova = L.tooltip([26, 80], countries_options)
    .setContent('Tova');
    zoom0.push(tova);

    var storm_isles = L.tooltip([72, 63], countries_options)
    .setContent('Storm<br>Isles');
    zoom0.push(storm_isles);

    var yellow_country = L.tooltip([-10, -18], countries_options)
    .setContent('Yellow<br>Country');
    zoom0.push(yellow_country);

    var green_country = L.tooltip([-50, 61], countries_options)
    .setContent('Green<br>Country');
    zoom0.push(green_country);

    var purple_country = L.tooltip([59, -14], countries_options)
    .setContent('Purple<br>Country');
    zoom0.push(purple_country);

    // WATERS
    var water_options= ({direction: 'center', interactive: true, permanent: true, className: "water"});
    var water_options_nopopup = ({direction: 'center', permanent: true, className: "water"});

    var waters = [];

    var se_ocean = L.tooltip([4, -20], {direction: 'center', className: "water"}) //curving text, must remove pointer cursor, instead grabby mouse like everywhere else
    .setContent("<h1>"+
    "<span class='sw_1'>T</span>"+
    "<span class='sw_2'>H</span>"+
    "<span class='sw_3'>E</span>"+
    "<span class='sw_4'> </span>"+
    "<span class='sw_5'>T</span>"+
    "<span class='sw_6'>I</span>"+
    "<span class='sw_7'>N</span>"+
    "<span class='sw_8'>T</span>"+
    "<span class='sw_9'>E</span>"+
    "<span class='sw_10'>D</span>"+
    "<span class='sw_11'> </span>"+
    "<span class='sw_12'>T</span>"+
    "<span class='sw_13'>I</span>"+
    "<span class='sw_14'>D</span>"+
    "<span class='sw_15'>E</span>"+
    "<span class='sw_16'>S</span>"+
    "</h1>")
    zoom0.push(se_ocean);

    var nw_ocean = L.tooltip([4, -20], {direction: 'center', className: "water"})
    .setContent("<h1>"+
    "<span class='ne_1'>T</span>"+
    "<span class='ne_2'>H</span>"+
    "<span class='ne_3'>E</span>"+
    "<span class='ne_4'> </span>"+
    "<span class='ne_5'>S</span>"+
    "<span class='ne_6'>A</span>"+
    "<span class='ne_7'>V</span>"+
    "<span class='ne_8'>A</span>"+
    "<span class='ne_9'>G</span>"+
    "<span class='ne_10'>E</span>"+
    "<span class='ne_11'> </span>"+
    "<span class='ne_12'>W</span>"+
    "<span class='ne_13'>A</span>"+
    "<span class='ne_14'>T</span>"+
    "<span class='ne_15'>E</span>"+
    "<span class='ne_16'>R</span>"+
    "<span class='ne_17'>S</span>"+
    "</h1>")
    zoom0.push(nw_ocean);

    var winged_lions_sea = L.tooltip([-35, 132], water_options_nopopup)
    .setContent("<div class='winged_lions_sea'>Winged Lion's<br>Sea</div>");
    waters.push(winged_lions_sea);
    zoom1.push(winged_lions_sea);

    var the_great_tear = L.tooltip([-60, 2], water_options_nopopup)
    .setContent("<div class='the_great_tear'>The Great Tear</div>");
    waters.push(the_great_tear);
    zoom1.push(the_great_tear);

    // ESTORIA
    var silver_bay = L.tooltip([-74.140276, -121.025391], water_options_nopopup)
    .setContent("<div class='silver_bay'>Silver Bay</div>");
    waters.push(silver_bay);
    zoom1.push(silver_bay);

    var the_little_tear = L.tooltip([-70.844304, -85.517578], water_options_nopopup)
    .setContent("The<br>Little<br>Tear");
    waters.push(the_little_tear);
    zoom1.push(the_little_tear);

    // GREEN COUNTRY

    var vistola = L.tooltip([-34.451909, 56.601563], water_options_nopopup)
    .setContent("<div class='vistola'>Vistola</div>");
    waters.push(vistola);
    zoom3.push(vistola);

    var dalmation_gulf = L.tooltip([-30, 32], water_options_nopopup)
    .setContent("<div class='dalmation_gulf'>Dalmatian Gulf</div>");
    waters.push(dalmation_gulf);
    zoom1.push(dalmation_gulf);

    var satyr_bay = L.tooltip([-45.8, 23], water_options_nopopup)
    .setContent("Satyr<br>Bay");
    waters.push(satyr_bay);
    zoom2.push(satyr_bay);

    var pp_lake = L.tooltip([-65.5, 77], water_options_nopopup)
    .setContent("PP Lake");
    waters.push(pp_lake);
    zoom1.push(pp_lake);

    var lovelets_crater = L.tooltip([-76.2, 58], water_options)
    .setContent("Lovelet's<br>Crater")
    .bindPopup("<big>&#x1F661</big> <b>Lovelet's Crater</b> <big>&#128611</big><br>\
                A rounded body of freshwater, said to be created by the powerful mage 'Lovelet',\
                who sent a comet filled with water into the desert. Some say they can 'taste the cosmos'.", {offset: [0, -6]});
    waters.push(lovelets_crater);
    zoom2.push(lovelets_crater);

    var soaring_lagoon = L.tooltip([-74.7, 71], water_options)
    .setContent("Soaring<br>Lagoon")
    .bindPopup("<big>&#x1F661</big> <b>Soaring Lagoon</b> <big>&#128611</big><br>\
                A grand exposed coral reef, too hot to even dip a toe in for common folk.\
                ddddddd speak of a dragon sleeping under the reef.", {offset: [0, -6]});
    waters.push(soaring_lagoon);
    zoom2.push(soaring_lagoon);

    // YELLOW COUNTRY

    // ISLANDS
    var island_options = ({direction: 'center', interactive: true, permanent: true, className: "inland"});

    var islands = [];

    var fortune_island = L.tooltip([-37, 12], island_options)
    .setContent("Fortune<br>Island")
    .bindPopup("<big>&#x1F661</big> <b>Fortune Island</b> <big>&#128611</big><br>\
                A volcanic island.", {offset: [0,-12]});
    islands.push(fortune_island);
    zoom2.push(fortune_island);

    var harolds_boot = L.tooltip([-78.5, -137], island_options)
    .setContent("Harold's Boot")
    .bindPopup("<big>&#x1F661</big> <b>Harold's Boot</b> <big>&#128611</big><br>\
                An island, vaguely the shape of a shoe. Under perfect conditions, Harold's Boot can be seen from Estoria's mainland.",
                {offset: [0,-6]});
    islands.push(harolds_boot);
    zoom1.push(harolds_boot);

    var hawk_island = L.tooltip([20, 150], island_options)
    .setContent("Hawk<br>Island")
    .bindPopup("<big>&#x1F661</big> <b>Hawk Island</b> <big>&#128611</big><br>\
                Home of the Land. Brave of the Free.", {offset: [0,-6]});
    islands.push(hawk_island);
    zoom1.push(hawk_island);

    // CANYONS
    var canyon_options = ({direction: 'center', interactive: true, permanent: true, className: "inland", opacity: .5});

    var canyons = [];

    var the_scars = L.tooltip([-45, -124], canyon_options)
    .setContent("The Scars")
    .bindPopup("<big>&#x1F661</big> <b>The Scars</b> <big>&#128611</big><br>\
                The Scars of Estoria or simply 'The Scars' are a group of five canyons to the northeast of Estoria.", {offset: [0,-12]});
    canyons.push(the_scars);
    zoom1.push(the_scars);

    // TOOLTIPS END



















    /* =========================
       LAYER GROUPS
       =========================
    */
    var rivers = [];
    // rivers only appear from zoom level 1

    var mountain_ranges = [];
    // mountain ranges only appear from zoom level 1

    var forests = [];
    // forests only appear from zoom level 1

    var lettering = [].concat(waters, islands, canyons);
    /*opacity to .5 when opening letters popup
    L.layerGroup(lettering).eachLayer(function(layer){
        layer.on('mouseover', function(){
            layer.setOpacity(.3)}),
        layer.on('mouseout', function(){
            layer.setOpacity(1)})
    });*/



    /*  ===================
        LEGEND
        ===================
    */

    function change() {
        var decider = document.getElementById('switch');
        // ZOOMS
        //countries only appear on zoom level 0
        map.on('zoomend', function () {
            L.layerGroup(zoom0).eachLayer(function (layer) {
                if (map.getZoom() > 1 && map.hasLayer(layer) && decider.checked) {
                    map.removeLayer(layer);
                }
                if (map.getZoom() < 2 && map.hasLayer(layer) == false && decider.checked){
                    map.addLayer(layer);
                }
            })
        });

        // appear from zoom level 1 on
        map.on('zoomend', function () {
            L.layerGroup(zoom1).eachLayer(function (layer) {
                if (map.getZoom() == 1 && map.hasLayer(layer) && decider.checked) {
                    map.removeLayer(layer);
                }
                if (map.getZoom() > 1 && map.hasLayer(layer) == false && decider.checked){
                    map.addLayer(layer);
                }
            })
        });

        // appear from zoom level 2 on
        map.on('zoomend', function () {
            L.layerGroup(zoom2).eachLayer(function (layer) {
                if (map.getZoom() < 3 && map.hasLayer(layer) && decider.checked) {
                    map.removeLayer(layer);
                }
                if (map.getZoom() > 2 && map.hasLayer(layer) == false && decider.checked){
                    map.addLayer(layer);
                }
            })
        });

        // appear from zoom level 3 on
        map.on('zoomend', function () {
            L.layerGroup(zoom3).eachLayer(function (layer) {
                if (map.getZoom() < 4 && map.hasLayer(layer) && decider.checked) {
                    map.removeLayer(layer);
                }
                if (map.getZoom() > 3 && map.hasLayer(layer) == false && decider.checked){
                    map.addLayer(layer);
                }
            })
        });
    };
    
   var zoom_activation={
        label: '<input type="checkbox" id="switch" onclick="change()"/> zoom-activated visibility',
   }
    var legend = {
        label: "SHOW EVERYTHING",
        selectAllCheckbox: true,
        children: [
            {label: "(helpers)",
            layer: L.layerGroup(helpers)},

            {label: "Lettering", layer: L.layerGroup(lettering)},

            {label: "BUILDINGS",
            collapsed: true,
            selectAllCheckbox: true,
            children:[
                { label: "<img class='ico' src='images/icons/buildings/castle.png'/>\
                Castles", layer: L.layerGroup(castles) },

                { label: "<img class='ico' src='images/icons/buildings/cathedral.png'/>\
                Cathedrals", layer: L.layerGroup(cathedrals) },

                { label: "<img class='ico' src='images/icons/buildings/colig.png'/>\
                Colig", layer: L.layerGroup([colig]) },

                { label: "<img class='ico' src='images/icons/buildings/crypts.png'/>\
                Crypts", layer: L.layerGroup(crypts) },

                { label: "<img class='ico' src='images/icons/buildings/fort.png'/>\
                Forts", layer: L.layerGroup(forts) },

                { label: "<img class='ico' src='images/icons/buildings/lighthouse.png'/>\
                Lighthouses", layer: L.layerGroup(lighthouses) },

                { label: "<img class='ico' src='images/icons/buildings/stable.png'/>\
                Stables", layer: L.layerGroup(stables) },

                { label: "<img class='ico' src='images/icons/buildings/stronghold.png'/>\
                Strongholds", layer: L.layerGroup(strongholds) },

                { label: "<img class='ico' src='images/icons/buildings/tavern.png'/>\
                Taverns", layer: L.layerGroup(taverns) },

                { label: "<img class='ico' src='images/icons/buildings/temple.png'/>\
                Temples", layer: L.layerGroup(temples) },

                { label: "<img class='ico' src='images/icons/buildings/tower.png'/>\
                Towers", layer: L.layerGroup(towers) },

                { label: "<img class='ico' src='images/icons/buildings/windmill.png'/>\
                Windmills", layer: L.layerGroup(windmills) }
            ]},

            {label: "LANDMARKS",
            selectAllCheckbox: true,
            collapsed: true,
            children:[
                { label: "<img class='ico' src='images/icons/landmarks/altar.png'/>\
                Altars", layer: L.layerGroup(altars) },

                { label: "<img class='ico' src='images/icons/landmarks/bridge.png'/>\
                Bridges", layer: L.layerGroup(bridges) },

                { label: "<img class='ico' src='images/icons/landmarks/dangerzone.png'/>\
                Dangerzones", layer: L.layerGroup(dangerzones) },

                { label: "<img class='ico' src='images/icons/landmarks/monolith.png'/>\
                Monoliths", layer: L.layerGroup(monoliths) },

                { label: "<img class='ico' src='images/icons/landmarks/obelisk.png'/>\
                Obelisks", layer: L.layerGroup(obelisks) },

                { label: "<img class='ico' src='images/icons/landmarks/ruin.png'/>\
                Ruins", layer: L.layerGroup(ruins) },

                { label: "<img class='ico' src='images/icons/landmarks/shipwreck.png'/>\
                Shipwrecks", layer: L.layerGroup(shipwrecks) },

                { label: "<img class='ico' src='images/icons/landmarks/shrine.png'/>\
                Shrines", layer: L.layerGroup(shrines) },

                { label: "<img class='ico' src='images/icons/landmarks/standing_stones.png'/>\
                Standing Stones", layer: L.layerGroup(standing_stones) },

                { label: "<img class='ico' src='images/icons/landmarks/thorns.png'/>\
                Thorns", layer: L.layerGroup(thorns) },

                { label: "<img class='ico' src='images/icons/landmarks/waterfall.png'/>\
                Waterfall", layer: L.layerGroup(waterfalls) },

                { label: "<img class='ico' src='images/icons/landmarks/whirlpool.png'/>\
                Whirlpools", layer: L.layerGroup(whirlpools) },
            ]},

            {label: "LOCATIONS",
            collapsed: true,
            selectAllCheckbox: true,
            children:[
                { label: "<img class='ico' src='images/icons/locations/alchemist.png'/>\
                Alchemists", layer: L.layerGroup(alchemists) },

                { label: "<img class='ico' src='images/icons/locations/cave.png'/>\
                Caves", layer: L.layerGroup(caves) },

                { label: "<img class='ico' src='images/icons/locations/doc.png'/>\
                Docs", layer: L.layerGroup(docs) },

                { label: "<img class='ico' src='images/icons/locations/dungeon.png'/>\
                Dungeons", layer: L.layerGroup(dungeons) },

                { label: "<img class='ico' src='images/icons/locations/forge.png'/>\
                Forges", layer: L.layerGroup(forges) },

                { label: "<img class='ico' src='images/icons/locations/grainfarm.png'/>\
                Grainfarms", layer: L.layerGroup(grainfarms) },

                { label: "<img class='ico' src='images/icons/locations/graveyard.png'/>\
                Graveyards", layer: L.layerGroup(graveyards) },

                { label: "<img class='ico' src='images/icons/locations/hut.png'/>\
                Huts", layer: L.layerGroup(huts) },

                { label: "<img class='ico' src='images/icons/locations/mine.png'/>\
                Mines", layer: L.layerGroup(mines) },

                { label: "<img class='ico' src='images/icons/locations/ravenskull.png'/>\
                Ravenskulls", layer: L.layerGroup(ravenskulls) },

                { label: "<img class='ico' src='images/icons/locations/vineyard.png'/>\
                Vineyards", layer: L.layerGroup(vineyards) }
            ]},

            {label: "SETTLEMENTS",
            collapsed: true,
            selectAllCheckbox: true,
            children:[
                { label: "<img class='ico' src='images/icons/settlements/camp.png'/>\
                Camps", layer: L.layerGroup(camps) },

                { label: "<img class='ico' src='images/icons/settlements/city.png'/>\
                Cities", layer: L.layerGroup(cities) },

                { label: "<img class='ico' src='images/icons/settlements/hut_village.png'/>\
                Hut Villages", layer: L.layerGroup(hut_villages) },

                { label: "<img class='ico' src='images/icons/settlements/legion_camp.png'/>\
                Legion Camps", layer: L.layerGroup(legion_camps) },

                { label: "<img class='ico' src='images/icons/settlements/town.png'/>\
                Towns", layer: L.layerGroup(towns) },

                { label: "<img class='ico' src='images/icons/settlements/village.png'/>\
                Villages", layer: L.layerGroup(villages) },
            ]}
            
        ]
    };
    L.control.layers.tree(zoom_activation, legend).addTo(map);
    document.getElementById('switch').click()
    // LAYER GROUPS END

</script>

</body>
</html>